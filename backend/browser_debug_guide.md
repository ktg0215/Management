# ブラウザモードデバッグガイド

## テストユーザー情報

以下のテストユーザーが作成されています：

### 👤 一般ユーザー
1. **test_user_1@example.com**
   - パスワード: `test1234`
   - 権限: `user`

2. **test_user_2@example.com**
   - パスワード: `test1234`
   - 権限: `user`

### 👨‍💼 管理者
3. **test_admin_1@example.com**
   - パスワード: `admin1234`
   - 権限: `admin`

### 👑 総管理者
4. **test_super_admin@example.com**
   - パスワード: `super1234`
   - 権限: `super_admin`
   - **注意**: パスワードが正しく動作しない場合は、`node reset_test_user_password.js`を実行してパスワードをリセットしてください

## デバッグ手順

### 1. ログイン機能のテスト

#### 総管理者でログイン
1. ログインページにアクセス: `https://edwtoyama.com/bb/login`
2. メールアドレス: `test_super_admin@example.com`
3. パスワード: `super1234`
4. 「ログイン」ボタンをクリック
5. ダッシュボードに遷移することを確認

#### 管理者でログイン
1. ログアウト後、再度ログインページにアクセス
2. メールアドレス: `test_admin_1@example.com`
3. パスワード: `admin1234`
4. 「ログイン」ボタンをクリック
5. ダッシュボードに遷移することを確認

#### 一般ユーザーでログイン
1. ログアウト後、再度ログインページにアクセス
2. メールアドレス: `test_user_1@example.com`
3. パスワード: `test1234`
4. 「ログイン」ボタンをクリック
5. ダッシュボードに遷移することを確認

### 2. CSV出力機能のテスト

#### 売上管理ページ
1. 総管理者でログイン
2. 「売上管理」メニューをクリック
3. 「CSV出力」ボタンをクリック
4. 期間を選択（例: 2025年11月～2025年12月）
5. 出力項目を選択
6. 「CSV出力」ボタンをクリック
7. CSVファイルがダウンロードされることを確認
8. Excelで開いて文字化けがないことを確認

#### 月次売上管理ページ
1. 総管理者でログイン
2. 「月次売上管理」メニューをクリック
3. 「CSV出力」ボタンをクリック
4. 期間を選択（例: 2025年11月～2025年12月）
5. 出力項目を選択
6. 「CSV出力」ボタンをクリック
7. CSVファイルがダウンロードされることを確認
8. Excelで開いて文字化けがないことを確認

### 3. 一括削除機能のテスト

#### 従業員管理ページ
1. 総管理者または管理者でログイン
2. 「従業員管理」メニューをクリック
3. 「一括操作」ボタンをクリック
4. 複数の従業員にチェックを入れる
5. 「一括削除」ボタンをクリック
6. 確認ダイアログで「OK」をクリック
7. 選択した従業員が削除されることを確認

#### 取引先管理ページ
1. 総管理者または管理者でログイン
2. 「取引先管理」メニューをクリック
3. 「一括操作」ボタンをクリック
4. 複数の取引先にチェックを入れる
5. 「一括削除」ボタンをクリック
6. 確認ダイアログで「OK」をクリック
7. 選択した取引先が削除されることを確認
8. 支払いデータが関連付けられている取引先は削除できないことを確認

### 4. パスワードリセット機能のテスト

#### 従業員管理ページ
1. 総管理者または管理者でログイン
2. 「従業員管理」メニューをクリック
3. 任意の従業員の「パスワードリセット」ボタン（🔒アイコン）をクリック
4. 新しいパスワードを入力（8文字以上）
5. 確認パスワードを入力
6. 「リセット」ボタンをクリック
7. 成功メッセージが表示されることを確認
8. ログアウトして、新しいパスワードでログインできることを確認

### 5. 一括権限変更機能のテスト

#### 従業員管理ページ
1. 総管理者でログイン
2. 「従業員管理」メニューをクリック
3. 「一括操作」ボタンをクリック
4. 複数の従業員にチェックを入れる
5. 「一括権限変更」ボタンをクリック
6. 新しい権限を選択（例: `admin`）
7. 確認ダイアログで「OK」をクリック
8. 選択した従業員の権限が変更されることを確認

### 6. 一括表示設定変更機能のテスト

#### 取引先管理ページ
1. 総管理者または管理者でログイン
2. 「取引先管理」メニューをクリック
3. 「一括操作」ボタンをクリック
4. 複数の取引先にチェックを入れる
5. 「一括表示設定変更」ボタンをクリック
6. 表示/非表示を選択
7. 確認ダイアログで「OK」をクリック
8. 選択した取引先の表示設定が変更されることを確認

## 確認事項

### エラーチェック
- ブラウザのコンソールにエラーが表示されていないか確認
- ネットワークタブでAPIリクエストが成功しているか確認（200, 201, 304など）
- エラーレスポンス（400, 401, 403, 404, 500など）が発生していないか確認

### 機能チェック
- 各機能が期待通りに動作するか確認
- エラーメッセージが適切に表示されるか確認
- 成功メッセージが適切に表示されるか確認
- データが正しく保存・更新・削除されるか確認

### UIチェック
- ボタンが正しく表示されているか確認
- モーダルが正しく開閉するか確認
- フォームのバリデーションが正しく動作するか確認
- ローディング状態が正しく表示されるか確認

## 報告すべき問題

以下の問題が発生した場合は報告してください：

1. **ログインできない**
   - エラーメッセージの内容
   - コンソールエラーの内容
   - ネットワークリクエストのステータスコード

2. **CSV出力が動作しない**
   - エラーメッセージの内容
   - コンソールエラーの内容
   - ネットワークリクエストのステータスコードとレスポンス

3. **一括操作が動作しない**
   - エラーメッセージの内容
   - コンソールエラーの内容
   - ネットワークリクエストのステータスコードとレスポンス

4. **パスワードリセットが動作しない**
   - エラーメッセージの内容
   - コンソールエラーの内容
   - ネットワークリクエストのステータスコードとレスポンス

5. **その他の問題**
   - 問題の詳細な説明
   - 再現手順
   - エラーメッセージやコンソールログ

